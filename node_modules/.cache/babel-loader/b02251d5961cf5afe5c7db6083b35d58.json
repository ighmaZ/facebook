{"ast":null,"code":"import _objectWithoutProperties from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"disabled\"];\n\nvar _ue;\n\nimport U, { Fragment as G, createContext as j, createRef as B, useCallback as y, useContext as Q, useEffect as W, useMemo as v, useReducer as V, useRef as _ } from \"react\";\nimport { match as K } from \"../../utils/match.js\";\nimport { forwardRefWithAs as h, render as P, Features as H } from \"../../utils/render.js\";\nimport { disposables as x } from \"../../utils/disposables.js\";\nimport { useDisposables as N } from \"../../hooks/use-disposables.js\";\nimport { useIsoMorphicEffect as E } from \"../../hooks/use-iso-morphic-effect.js\";\nimport { useSyncRefs as D } from \"../../hooks/use-sync-refs.js\";\nimport { useId as F } from \"../../hooks/use-id.js\";\nimport { Keys as d } from \"../keyboard.js\";\nimport { Focus as I, calculateActiveIndex as $ } from \"../../utils/calculate-active-index.js\";\nimport { isDisabledReactIssue7711 as q } from \"../../utils/bugs.js\";\nimport { isFocusableElement as J, FocusableMode as z, sortByDomNode as X } from \"../../utils/focus-management.js\";\nimport { useOutsideClick as Y } from \"../../hooks/use-outside-click.js\";\nimport { useTreeWalker as Z } from \"../../hooks/use-tree-walker.js\";\nimport { useOpenClosed as ee, State as L, OpenClosedProvider as te } from \"../../internal/open-closed.js\";\nimport { useResolveButtonType as re } from \"../../hooks/use-resolve-button-type.js\";\nimport { useOwnerDocument as ne } from \"../../hooks/use-owner.js\";\n\nvar oe = function (a) {\n  return a[a.Open = 0] = \"Open\", a[a.Closed = 1] = \"Closed\", a;\n}(oe || {}),\n    ae = function (a) {\n  return a[a.Pointer = 0] = \"Pointer\", a[a.Other = 1] = \"Other\", a;\n}(ae || {}),\n    ie = function (o) {\n  return o[o.OpenMenu = 0] = \"OpenMenu\", o[o.CloseMenu = 1] = \"CloseMenu\", o[o.GoToItem = 2] = \"GoToItem\", o[o.Search = 3] = \"Search\", o[o.ClearSearch = 4] = \"ClearSearch\", o[o.RegisterItem = 5] = \"RegisterItem\", o[o.UnregisterItem = 6] = \"UnregisterItem\", o;\n}(ie || {});\n\nfunction k(t) {\n  var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (a) {\n    return a;\n  };\n  var a = t.activeItemIndex !== null ? t.items[t.activeItemIndex] : null,\n      e = X(i(t.items.slice()), function (u) {\n    return u.dataRef.current.domRef.current;\n  }),\n      r = a ? e.indexOf(a) : null;\n  return r === -1 && (r = null), {\n    items: e,\n    activeItemIndex: r\n  };\n}\n\nvar ue = (_ue = {}, _defineProperty(_ue, 1, function _(t) {\n  return t.menuState === 1 ? t : _objectSpread(_objectSpread({}, t), {}, {\n    activeItemIndex: null,\n    menuState: 1\n  });\n}), _defineProperty(_ue, 0, function _(t) {\n  return t.menuState === 0 ? t : _objectSpread(_objectSpread({}, t), {}, {\n    menuState: 0\n  });\n}), _defineProperty(_ue, 2, function _(t, i) {\n  var r;\n  var a = k(t),\n      e = $(i, {\n    resolveItems: function resolveItems() {\n      return a.items;\n    },\n    resolveActiveIndex: function resolveActiveIndex() {\n      return a.activeItemIndex;\n    },\n    resolveId: function resolveId(u) {\n      return u.id;\n    },\n    resolveDisabled: function resolveDisabled(u) {\n      return u.dataRef.current.disabled;\n    }\n  });\n  return _objectSpread(_objectSpread(_objectSpread({}, t), a), {}, {\n    searchQuery: \"\",\n    activeItemIndex: e,\n    activationTrigger: (r = i.trigger) != null ? r : 1\n  });\n}), _defineProperty(_ue, 3, function _(t, i) {\n  var e = t.searchQuery !== \"\" ? 0 : 1,\n      r = t.searchQuery + i.value.toLowerCase(),\n      s = (t.activeItemIndex !== null ? t.items.slice(t.activeItemIndex + e).concat(t.items.slice(0, t.activeItemIndex + e)) : t.items).find(function (l) {\n    var p;\n    return ((p = l.dataRef.current.textValue) == null ? void 0 : p.startsWith(r)) && !l.dataRef.current.disabled;\n  }),\n      o = s ? t.items.indexOf(s) : -1;\n  return o === -1 || o === t.activeItemIndex ? _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: r\n  }) : _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: r,\n    activeItemIndex: o,\n    activationTrigger: 1\n  });\n}), _defineProperty(_ue, 4, function _(t) {\n  return t.searchQuery === \"\" ? t : _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: \"\",\n    searchActiveItemIndex: null\n  });\n}), _defineProperty(_ue, 5, function _(t, i) {\n  var a = k(t, function (e) {\n    return [].concat(_toConsumableArray(e), [{\n      id: i.id,\n      dataRef: i.dataRef\n    }]);\n  });\n  return _objectSpread(_objectSpread({}, t), a);\n}), _defineProperty(_ue, 6, function _(t, i) {\n  var a = k(t, function (e) {\n    var r = e.findIndex(function (u) {\n      return u.id === i.id;\n    });\n    return r !== -1 && e.splice(r, 1), e;\n  });\n  return _objectSpread(_objectSpread(_objectSpread({}, t), a), {}, {\n    activationTrigger: 1\n  });\n}), _ue),\n    w = j(null);\nw.displayName = \"MenuContext\";\n\nfunction C(t) {\n  var i = Q(w);\n\n  if (i === null) {\n    var a = new Error(\"<\".concat(t, \" /> is missing a parent <Menu /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(a, C), a;\n  }\n\n  return i;\n}\n\nfunction se(t, i) {\n  return K(i.type, ue, t, i);\n}\n\nvar le = G,\n    ce = h(function (i, a) {\n  var _K;\n\n  var e = V(se, {\n    menuState: 1,\n    buttonRef: B(),\n    itemsRef: B(),\n    items: [],\n    searchQuery: \"\",\n    activeItemIndex: null,\n    activationTrigger: 1\n  }),\n      _e = _slicedToArray(e, 2),\n      _e$ = _e[0],\n      r = _e$.menuState,\n      u = _e$.itemsRef,\n      s = _e$.buttonRef,\n      o = _e[1],\n      l = D(a);\n\n  Y([s, u], function (M, R) {\n    var T;\n    r === 0 && (o({\n      type: 1\n    }), J(R, z.Loose) || (M.preventDefault(), (T = s.current) == null || T.focus()));\n  });\n  var p = v(function () {\n    return {\n      open: r === 0\n    };\n  }, [r]),\n      g = i,\n      f = {\n    ref: l\n  };\n  return U.createElement(w.Provider, {\n    value: e\n  }, U.createElement(te, {\n    value: K(r, (_K = {}, _defineProperty(_K, 0, L.Open), _defineProperty(_K, 1, L.Closed), _K))\n  }, P({\n    ourProps: f,\n    theirProps: g,\n    slot: p,\n    defaultTag: le,\n    name: \"Menu\"\n  })));\n}),\n    pe = \"button\",\n    de = h(function (i, a) {\n  var T;\n\n  var _C = C(\"Menu.Button\"),\n      _C2 = _slicedToArray(_C, 2),\n      e = _C2[0],\n      r = _C2[1],\n      u = D(e.buttonRef, a),\n      s = \"headlessui-menu-button-\".concat(F()),\n      o = N(),\n      l = y(function (c) {\n    switch (c.key) {\n      case d.Space:\n      case d.Enter:\n      case d.ArrowDown:\n        c.preventDefault(), c.stopPropagation(), r({\n          type: 0\n        }), o.nextFrame(function () {\n          return r({\n            type: 2,\n            focus: I.First\n          });\n        });\n        break;\n\n      case d.ArrowUp:\n        c.preventDefault(), c.stopPropagation(), r({\n          type: 0\n        }), o.nextFrame(function () {\n          return r({\n            type: 2,\n            focus: I.Last\n          });\n        });\n        break;\n    }\n  }, [r, o]),\n      p = y(function (c) {\n    switch (c.key) {\n      case d.Space:\n        c.preventDefault();\n        break;\n    }\n  }, []),\n      g = y(function (c) {\n    if (q(c.currentTarget)) return c.preventDefault();\n    i.disabled || (e.menuState === 0 ? (r({\n      type: 1\n    }), o.nextFrame(function () {\n      var b;\n      return (b = e.buttonRef.current) == null ? void 0 : b.focus({\n        preventScroll: !0\n      });\n    })) : (c.preventDefault(), c.stopPropagation(), r({\n      type: 0\n    })));\n  }, [r, o, e, i.disabled]),\n      f = v(function () {\n    return {\n      open: e.menuState === 0\n    };\n  }, [e]),\n      M = i,\n      R = {\n    ref: u,\n    id: s,\n    type: re(i, e.buttonRef),\n    \"aria-haspopup\": !0,\n    \"aria-controls\": (T = e.itemsRef.current) == null ? void 0 : T.id,\n    \"aria-expanded\": i.disabled ? void 0 : e.menuState === 0,\n    onKeyDown: l,\n    onKeyUp: p,\n    onClick: g\n  };\n\n  return P({\n    ourProps: R,\n    theirProps: M,\n    slot: f,\n    defaultTag: pe,\n    name: \"Menu.Button\"\n  });\n}),\n    me = \"div\",\n    fe = H.RenderStrategy | H.Static,\n    Te = h(function (i, a) {\n  var b, O;\n\n  var _C3 = C(\"Menu.Items\"),\n      _C4 = _slicedToArray(_C3, 2),\n      e = _C4[0],\n      r = _C4[1],\n      u = D(e.itemsRef, a),\n      s = ne(e.itemsRef),\n      o = \"headlessui-menu-items-\".concat(F()),\n      l = N(),\n      p = ee(),\n      g = function () {\n    return p !== null ? p === L.Open : e.menuState === 0;\n  }();\n\n  W(function () {\n    var n = e.itemsRef.current;\n    !n || e.menuState === 0 && n !== (s == null ? void 0 : s.activeElement) && n.focus({\n      preventScroll: !0\n    });\n  }, [e.menuState, e.itemsRef, s]), Z({\n    container: e.itemsRef.current,\n    enabled: e.menuState === 0,\n    accept: function accept(n) {\n      return n.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : n.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n    walk: function walk(n) {\n      n.setAttribute(\"role\", \"none\");\n    }\n  });\n  var f = y(function (n) {\n    var m, S;\n\n    switch (l.dispose(), n.key) {\n      case d.Space:\n        if (e.searchQuery !== \"\") return n.preventDefault(), n.stopPropagation(), r({\n          type: 3,\n          value: n.key\n        });\n\n      case d.Enter:\n        if (n.preventDefault(), n.stopPropagation(), r({\n          type: 1\n        }), e.activeItemIndex !== null) {\n          var A = e.items[e.activeItemIndex].dataRef;\n          (S = (m = A.current) == null ? void 0 : m.domRef.current) == null || S.click();\n        }\n\n        x().nextFrame(function () {\n          var A;\n          return (A = e.buttonRef.current) == null ? void 0 : A.focus({\n            preventScroll: !0\n          });\n        });\n        break;\n\n      case d.ArrowDown:\n        return n.preventDefault(), n.stopPropagation(), r({\n          type: 2,\n          focus: I.Next\n        });\n\n      case d.ArrowUp:\n        return n.preventDefault(), n.stopPropagation(), r({\n          type: 2,\n          focus: I.Previous\n        });\n\n      case d.Home:\n      case d.PageUp:\n        return n.preventDefault(), n.stopPropagation(), r({\n          type: 2,\n          focus: I.First\n        });\n\n      case d.End:\n      case d.PageDown:\n        return n.preventDefault(), n.stopPropagation(), r({\n          type: 2,\n          focus: I.Last\n        });\n\n      case d.Escape:\n        n.preventDefault(), n.stopPropagation(), r({\n          type: 1\n        }), x().nextFrame(function () {\n          var A;\n          return (A = e.buttonRef.current) == null ? void 0 : A.focus({\n            preventScroll: !0\n          });\n        });\n        break;\n\n      case d.Tab:\n        n.preventDefault(), n.stopPropagation();\n        break;\n\n      default:\n        n.key.length === 1 && (r({\n          type: 3,\n          value: n.key\n        }), l.setTimeout(function () {\n          return r({\n            type: 4\n          });\n        }, 350));\n        break;\n    }\n  }, [r, l, e, s]),\n      M = y(function (n) {\n    switch (n.key) {\n      case d.Space:\n        n.preventDefault();\n        break;\n    }\n  }, []),\n      R = v(function () {\n    return {\n      open: e.menuState === 0\n    };\n  }, [e]),\n      T = i,\n      c = {\n    \"aria-activedescendant\": e.activeItemIndex === null || (b = e.items[e.activeItemIndex]) == null ? void 0 : b.id,\n    \"aria-labelledby\": (O = e.buttonRef.current) == null ? void 0 : O.id,\n    id: o,\n    onKeyDown: f,\n    onKeyUp: M,\n    role: \"menu\",\n    tabIndex: 0,\n    ref: u\n  };\n  return P({\n    ourProps: c,\n    theirProps: T,\n    slot: R,\n    defaultTag: me,\n    features: fe,\n    visible: g,\n    name: \"Menu.Items\"\n  });\n}),\n    Ie = G,\n    ye = h(function (i, a) {\n  var _i$disabled = i.disabled,\n      e = _i$disabled === void 0 ? !1 : _i$disabled,\n      r = _objectWithoutProperties(i, _excluded),\n      _C5 = C(\"Menu.Item\"),\n      _C6 = _slicedToArray(_C5, 2),\n      u = _C6[0],\n      s = _C6[1],\n      o = \"headlessui-menu-item-\".concat(F()),\n      l = u.activeItemIndex !== null ? u.items[u.activeItemIndex].id === o : !1,\n      p = _(null),\n      g = D(a, p);\n\n  E(function () {\n    if (u.menuState !== 0 || !l || u.activationTrigger === 0) return;\n    var n = x();\n    return n.requestAnimationFrame(function () {\n      var m, S;\n      (S = (m = p.current) == null ? void 0 : m.scrollIntoView) == null || S.call(m, {\n        block: \"nearest\"\n      });\n    }), n.dispose;\n  }, [p, l, u.menuState, u.activationTrigger, u.activeItemIndex]);\n\n  var f = _({\n    disabled: e,\n    domRef: p\n  });\n\n  E(function () {\n    f.current.disabled = e;\n  }, [f, e]), E(function () {\n    var n, m;\n    f.current.textValue = (m = (n = p.current) == null ? void 0 : n.textContent) == null ? void 0 : m.toLowerCase();\n  }, [f, p]), E(function () {\n    return s({\n      type: 5,\n      id: o,\n      dataRef: f\n    }), function () {\n      return s({\n        type: 6,\n        id: o\n      });\n    };\n  }, [f, o]);\n  var M = y(function (n) {\n    if (e) return n.preventDefault();\n    s({\n      type: 1\n    }), x().nextFrame(function () {\n      var m;\n      return (m = u.buttonRef.current) == null ? void 0 : m.focus({\n        preventScroll: !0\n      });\n    });\n  }, [s, u.buttonRef, e]),\n      R = y(function () {\n    if (e) return s({\n      type: 2,\n      focus: I.Nothing\n    });\n    s({\n      type: 2,\n      focus: I.Specific,\n      id: o\n    });\n  }, [e, o, s]),\n      T = y(function () {\n    e || l || s({\n      type: 2,\n      focus: I.Specific,\n      id: o,\n      trigger: 0\n    });\n  }, [e, l, o, s]),\n      c = y(function () {\n    e || !l || s({\n      type: 2,\n      focus: I.Nothing\n    });\n  }, [e, l, s]),\n      b = v(function () {\n    return {\n      active: l,\n      disabled: e\n    };\n  }, [l, e]);\n  return P({\n    ourProps: {\n      id: o,\n      ref: g,\n      role: \"menuitem\",\n      tabIndex: e === !0 ? void 0 : -1,\n      \"aria-disabled\": e === !0 ? !0 : void 0,\n      disabled: void 0,\n      onClick: M,\n      onFocus: R,\n      onPointerMove: T,\n      onMouseMove: T,\n      onPointerLeave: c,\n      onMouseLeave: c\n    },\n    theirProps: r,\n    slot: b,\n    defaultTag: Ie,\n    name: \"Menu.Item\"\n  });\n}),\n    Qe = Object.assign(ce, {\n  Button: de,\n  Items: Te,\n  Item: ye\n});\nexport { Qe as Menu };","map":null,"metadata":{},"sourceType":"module"}