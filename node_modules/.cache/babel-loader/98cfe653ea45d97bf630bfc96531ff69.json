{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toConsumableArray from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"focus\"];\n\nvar _de;\n\nimport F, { createContext as D, useCallback as m, useContext as _, useEffect as x, useMemo as O, useReducer as le, useRef as M, useState as pe } from \"react\";\nimport { match as j } from \"../../utils/match.js\";\nimport { forwardRefWithAs as G, render as H, Features as K } from \"../../utils/render.js\";\nimport { useSyncRefs as B } from \"../../hooks/use-sync-refs.js\";\nimport { useId as $ } from \"../../hooks/use-id.js\";\nimport { Keys as A } from \"../keyboard.js\";\nimport { isDisabledReactIssue7711 as ee } from \"../../utils/bugs.js\";\nimport { getFocusableElements as w, Focus as I, focusIn as L, FocusResult as Y, isFocusableElement as ae, FocusableMode as ue } from \"../../utils/focus-management.js\";\nimport { OpenClosedProvider as ie, State as U, useOpenClosed as te } from \"../../internal/open-closed.js\";\nimport { useResolveButtonType as se } from \"../../hooks/use-resolve-button-type.js\";\nimport { useOutsideClick as fe } from \"../../hooks/use-outside-click.js\";\nimport { getOwnerDocument as Pe } from \"../../utils/owner.js\";\nimport { useOwnerDocument as q } from \"../../hooks/use-owner.js\";\nimport { useEventListener as W } from \"../../hooks/use-event-listener.js\";\n\nvar ve = function (f) {\n  return f[f.Open = 0] = \"Open\", f[f.Closed = 1] = \"Closed\", f;\n}(ve || {}),\n    ce = function (l) {\n  return l[l.TogglePopover = 0] = \"TogglePopover\", l[l.ClosePopover = 1] = \"ClosePopover\", l[l.SetButton = 2] = \"SetButton\", l[l.SetButtonId = 3] = \"SetButtonId\", l[l.SetPanel = 4] = \"SetPanel\", l[l.SetPanelId = 5] = \"SetPanelId\", l;\n}(ce || {});\n\nvar de = (_de = {}, _defineProperty(_de, 0, function _(a) {\n  var _j;\n\n  return _objectSpread(_objectSpread({}, a), {}, {\n    popoverState: j(a.popoverState, (_j = {}, _defineProperty(_j, 0, 1), _defineProperty(_j, 1, 0), _j))\n  });\n}), _defineProperty(_de, 1, function _(a) {\n  return a.popoverState === 1 ? a : _objectSpread(_objectSpread({}, a), {}, {\n    popoverState: 1\n  });\n}), _defineProperty(_de, 2, function _(a, o) {\n  return a.button === o.button ? a : _objectSpread(_objectSpread({}, a), {}, {\n    button: o.button\n  });\n}), _defineProperty(_de, 3, function _(a, o) {\n  return a.buttonId === o.buttonId ? a : _objectSpread(_objectSpread({}, a), {}, {\n    buttonId: o.buttonId\n  });\n}), _defineProperty(_de, 4, function _(a, o) {\n  return a.panel === o.panel ? a : _objectSpread(_objectSpread({}, a), {}, {\n    panel: o.panel\n  });\n}), _defineProperty(_de, 5, function _(a, o) {\n  return a.panelId === o.panelId ? a : _objectSpread(_objectSpread({}, a), {}, {\n    panelId: o.panelId\n  });\n}), _de),\n    z = D(null);\nz.displayName = \"PopoverContext\";\n\nfunction N(a) {\n  var o = _(z);\n\n  if (o === null) {\n    var f = new Error(\"<\".concat(a, \" /> is missing a parent <Popover /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(f, N), f;\n  }\n\n  return o;\n}\n\nvar J = D(null);\nJ.displayName = \"PopoverAPIContext\";\n\nfunction oe(a) {\n  var o = _(J);\n\n  if (o === null) {\n    var f = new Error(\"<\".concat(a, \" /> is missing a parent <Popover /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(f, oe), f;\n  }\n\n  return o;\n}\n\nvar Q = D(null);\nQ.displayName = \"PopoverGroupContext\";\n\nfunction re() {\n  return _(Q);\n}\n\nvar X = D(null);\nX.displayName = \"PopoverPanelContext\";\n\nfunction ye() {\n  return _(X);\n}\n\nfunction Te(a, o) {\n  return j(o.type, de, a, o);\n}\n\nvar Ee = \"div\",\n    Se = G(function (o, f) {\n  var _j2;\n\n  var e = \"headlessui-popover-button-\".concat($()),\n      P = \"headlessui-popover-panel-\".concat($()),\n      n = M(null),\n      l = B(f, n),\n      i = q(n),\n      s = le(Te, {\n    popoverState: 1,\n    button: null,\n    buttonId: e,\n    panel: null,\n    panelId: P\n  }),\n      _s = _slicedToArray(s, 2),\n      _s$ = _s[0],\n      v = _s$.popoverState,\n      t = _s$.button,\n      E = _s$.panel,\n      u = _s[1];\n\n  x(function () {\n    return u({\n      type: 3,\n      buttonId: e\n    });\n  }, [e, u]), x(function () {\n    return u({\n      type: 5,\n      panelId: P\n    });\n  }, [P, u]);\n  var S = O(function () {\n    return {\n      buttonId: e,\n      panelId: P,\n      close: function close() {\n        return u({\n          type: 1\n        });\n      }\n    };\n  }, [e, P, u]),\n      c = re(),\n      d = c == null ? void 0 : c.registerPopover,\n      p = m(function () {\n    var r;\n    return (r = c == null ? void 0 : c.isFocusWithinPopoverGroup()) != null ? r : (i == null ? void 0 : i.activeElement) && ((t == null ? void 0 : t.contains(i.activeElement)) || (E == null ? void 0 : E.contains(i.activeElement)));\n  }, [c, t, E]);\n  x(function () {\n    return d == null ? void 0 : d(S);\n  }, [d, S]), W(i == null ? void 0 : i.defaultView, \"focus\", function () {\n    v === 0 && (p() || !t || !E || u({\n      type: 1\n    }));\n  }, !0), fe([t, E], function (r, T) {\n    v === 0 && (u({\n      type: 1\n    }), ae(T, ue.Loose) || (r.preventDefault(), t == null || t.focus()));\n  });\n  var y = m(function (r) {\n    u({\n      type: 1\n    });\n\n    var T = function () {\n      return r ? r instanceof HTMLElement ? r : r.current instanceof HTMLElement ? r.current : t : t;\n    }();\n\n    T == null || T.focus();\n  }, [u, t]),\n      b = O(function () {\n    return {\n      close: y\n    };\n  }, [y]),\n      g = O(function () {\n    return {\n      open: v === 0,\n      close: y\n    };\n  }, [v, y]),\n      C = o,\n      h = {\n    ref: l\n  };\n  return F.createElement(z.Provider, {\n    value: s\n  }, F.createElement(J.Provider, {\n    value: b\n  }, F.createElement(ie, {\n    value: j(v, (_j2 = {}, _defineProperty(_j2, 0, U.Open), _defineProperty(_j2, 1, U.Closed), _j2))\n  }, H({\n    ourProps: h,\n    theirProps: C,\n    slot: g,\n    defaultTag: Ee,\n    name: \"Popover\"\n  }))));\n}),\n    be = \"button\",\n    me = G(function (o, f) {\n  var _N = N(\"Popover.Button\"),\n      _N2 = _slicedToArray(_N, 2),\n      e = _N2[0],\n      P = _N2[1],\n      n = M(null),\n      l = re(),\n      i = l == null ? void 0 : l.closeOthers,\n      s = ye(),\n      v = s === null ? !1 : s === e.panelId,\n      t = B(n, f, v ? null : function (r) {\n    return P({\n      type: 2,\n      button: r\n    });\n  }),\n      E = B(n, f),\n      u = q(n),\n      S = M(null),\n      c = M(null);\n\n  W(u == null ? void 0 : u.defaultView, \"focus\", function () {\n    c.current = S.current, S.current = u == null ? void 0 : u.activeElement;\n  }, !0);\n  var d = m(function (r) {\n    var T, R, k, V;\n\n    if (v) {\n      if (e.popoverState === 1) return;\n\n      switch (r.key) {\n        case A.Space:\n        case A.Enter:\n          r.preventDefault(), (R = (T = r.target).click) == null || R.call(T), P({\n            type: 1\n          }), (k = e.button) == null || k.focus();\n          break;\n      }\n    } else switch (r.key) {\n      case A.Space:\n      case A.Enter:\n        r.preventDefault(), r.stopPropagation(), e.popoverState === 1 && (i == null || i(e.buttonId)), P({\n          type: 0\n        });\n        break;\n\n      case A.Escape:\n        if (e.popoverState !== 0) return i == null ? void 0 : i(e.buttonId);\n        if (!n.current || (u == null ? void 0 : u.activeElement) && !n.current.contains(u.activeElement)) return;\n        r.preventDefault(), r.stopPropagation(), P({\n          type: 1\n        });\n        break;\n\n      case A.Tab:\n        if (e.popoverState !== 0 || !e.panel || !e.button) return;\n\n        if (r.shiftKey) {\n          if (!c.current || (V = e.button) != null && V.contains(c.current) || e.panel.contains(c.current)) return;\n          var Z = w(u == null ? void 0 : u.body),\n              ne = Z.indexOf(c.current);\n          if (Z.indexOf(e.button) > ne) return;\n          r.preventDefault(), r.stopPropagation(), L(e.panel, I.Last);\n        } else r.preventDefault(), r.stopPropagation(), L(e.panel, I.First);\n\n        break;\n    }\n  }, [P, e.popoverState, e.buttonId, e.button, e.panel, n, i, v]),\n      p = m(function (r) {\n    var T;\n    if (!v && (r.key === A.Space && r.preventDefault(), e.popoverState === 0 && !!e.panel && !!e.button)) switch (r.key) {\n      case A.Tab:\n        if (!c.current || (T = e.button) != null && T.contains(c.current) || e.panel.contains(c.current)) return;\n        var R = w(u == null ? void 0 : u.body),\n            k = R.indexOf(c.current);\n        if (R.indexOf(e.button) > k) return;\n        r.preventDefault(), r.stopPropagation(), L(e.panel, I.Last);\n        break;\n    }\n  }, [e.popoverState, e.panel, e.button, v]),\n      y = m(function (r) {\n    var T, R;\n    ee(r.currentTarget) || o.disabled || (v ? (P({\n      type: 1\n    }), (T = e.button) == null || T.focus()) : (r.preventDefault(), r.stopPropagation(), e.popoverState === 1 && (i == null || i(e.buttonId)), (R = e.button) == null || R.focus(), P({\n      type: 0\n    })));\n  }, [P, e.button, e.popoverState, e.buttonId, o.disabled, i, v]),\n      b = O(function () {\n    return {\n      open: e.popoverState === 0\n    };\n  }, [e]),\n      g = se(o, n),\n      C = o,\n      h = v ? {\n    ref: E,\n    type: g,\n    onKeyDown: d,\n    onClick: y\n  } : {\n    ref: t,\n    id: e.buttonId,\n    type: g,\n    \"aria-expanded\": o.disabled ? void 0 : e.popoverState === 0,\n    \"aria-controls\": e.panel ? e.panelId : void 0,\n    onKeyDown: d,\n    onKeyUp: p,\n    onClick: y\n  };\n  return H({\n    ourProps: h,\n    theirProps: C,\n    slot: b,\n    defaultTag: be,\n    name: \"Popover.Button\"\n  });\n}),\n    ge = \"div\",\n    Ae = K.RenderStrategy | K.Static,\n    Ce = G(function (o, f) {\n  var _N3 = N(\"Popover.Overlay\"),\n      _N4 = _slicedToArray(_N3, 2),\n      e = _N4[0].popoverState,\n      P = _N4[1],\n      n = B(f),\n      l = \"headlessui-popover-overlay-\".concat($()),\n      i = te(),\n      s = function () {\n    return i !== null ? i === U.Open : e === 0;\n  }(),\n      v = m(function (S) {\n    if (ee(S.currentTarget)) return S.preventDefault();\n    P({\n      type: 1\n    });\n  }, [P]),\n      t = O(function () {\n    return {\n      open: e === 0\n    };\n  }, [e]);\n\n  return H({\n    ourProps: {\n      ref: n,\n      id: l,\n      \"aria-hidden\": !0,\n      onClick: v\n    },\n    theirProps: o,\n    slot: t,\n    defaultTag: ge,\n    features: Ae,\n    visible: s,\n    name: \"Popover.Overlay\"\n  });\n}),\n    Re = \"div\",\n    Oe = K.RenderStrategy | K.Static,\n    Ie = G(function (o, f) {\n  var _o$focus = o.focus,\n      e = _o$focus === void 0 ? !1 : _o$focus,\n      P = _objectWithoutProperties(o, _excluded),\n      _N5 = N(\"Popover.Panel\"),\n      _N6 = _slicedToArray(_N5, 2),\n      n = _N6[0],\n      l = _N6[1],\n      _oe = oe(\"Popover.Panel\"),\n      i = _oe.close,\n      s = M(null),\n      v = B(s, f, function (p) {\n    l({\n      type: 4,\n      panel: p\n    });\n  }),\n      t = q(s),\n      E = te(),\n      u = function () {\n    return E !== null ? E === U.Open : n.popoverState === 0;\n  }(),\n      S = m(function (p) {\n    var y;\n\n    switch (p.key) {\n      case A.Escape:\n        if (n.popoverState !== 0 || !s.current || (t == null ? void 0 : t.activeElement) && !s.current.contains(t.activeElement)) return;\n        p.preventDefault(), p.stopPropagation(), l({\n          type: 1\n        }), (y = n.button) == null || y.focus();\n        break;\n    }\n  }, [n, s, l]);\n\n  x(function () {\n    return function () {\n      return l({\n        type: 4,\n        panel: null\n      });\n    };\n  }, [l]), x(function () {\n    var p;\n    o.static || n.popoverState === 1 && ((p = o.unmount) != null ? p : !0) && l({\n      type: 4,\n      panel: null\n    });\n  }, [n.popoverState, o.unmount, o.static, l]), x(function () {\n    if (!e || n.popoverState !== 0 || !s.current) return;\n    var p = t == null ? void 0 : t.activeElement;\n    s.current.contains(p) || L(s.current, I.First);\n  }, [e, s, n.popoverState]), W(t == null ? void 0 : t.defaultView, \"keydown\", function (p) {\n    var b;\n    if (n.popoverState !== 0 || !s.current || p.key !== A.Tab || !(t != null && t.activeElement) || !s.current || !s.current.contains(t.activeElement)) return;\n    p.preventDefault();\n    var y = L(s.current, p.shiftKey ? I.Previous : I.Next);\n    if (y === Y.Underflow) return (b = n.button) == null ? void 0 : b.focus();\n\n    if (y === Y.Overflow) {\n      if (!n.button) return;\n      var g = w(t.body),\n          C = g.indexOf(n.button),\n          h = g.splice(C + 1).filter(function (r) {\n        var T;\n        return !((T = s.current) != null && T.contains(r));\n      });\n      L(h, I.First) === Y.Error && L(t.body, I.First);\n    }\n  }), W(t == null ? void 0 : t.defaultView, \"focus\", function () {\n    var p;\n    !e || n.popoverState === 0 && (!s.current || (t == null ? void 0 : t.activeElement) && ((p = s.current) == null ? void 0 : p.contains(t.activeElement)) || l({\n      type: 1\n    }));\n  }, !0);\n  var c = O(function () {\n    return {\n      open: n.popoverState === 0,\n      close: i\n    };\n  }, [n, i]),\n      d = {\n    ref: v,\n    id: n.panelId,\n    onKeyDown: S\n  };\n  return F.createElement(X.Provider, {\n    value: n.panelId\n  }, H({\n    ourProps: d,\n    theirProps: P,\n    slot: c,\n    defaultTag: Re,\n    features: Oe,\n    visible: u,\n    name: \"Popover.Panel\"\n  }));\n}),\n    Le = \"div\",\n    xe = G(function (o, f) {\n  var e = M(null),\n      P = B(e, f),\n      _pe = pe([]),\n      _pe2 = _slicedToArray(_pe, 2),\n      n = _pe2[0],\n      l = _pe2[1],\n      i = m(function (d) {\n    l(function (p) {\n      var y = p.indexOf(d);\n\n      if (y !== -1) {\n        var b = p.slice();\n        return b.splice(y, 1), b;\n      }\n\n      return p;\n    });\n  }, [l]),\n      s = m(function (d) {\n    return l(function (p) {\n      return [].concat(_toConsumableArray(p), [d]);\n    }), function () {\n      return i(d);\n    };\n  }, [l, i]),\n      v = m(function () {\n    var y;\n    var d = Pe(e);\n    if (!d) return !1;\n    var p = d.activeElement;\n    return (y = e.current) != null && y.contains(p) ? !0 : n.some(function (b) {\n      var g, C;\n      return ((g = d.getElementById(b.buttonId)) == null ? void 0 : g.contains(p)) || ((C = d.getElementById(b.panelId)) == null ? void 0 : C.contains(p));\n    });\n  }, [e, n]),\n      t = m(function (d) {\n    var _iterator = _createForOfIteratorHelper(n),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var p = _step.value;\n        p.buttonId !== d && p.close();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }, [n]),\n      E = O(function () {\n    return {\n      registerPopover: s,\n      unregisterPopover: i,\n      isFocusWithinPopoverGroup: v,\n      closeOthers: t\n    };\n  }, [s, i, v, t]),\n      u = O(function () {\n    return {};\n  }, []),\n      S = o,\n      c = {\n    ref: P\n  };\n\n  return F.createElement(Q.Provider, {\n    value: E\n  }, H({\n    ourProps: c,\n    theirProps: S,\n    slot: u,\n    defaultTag: Le,\n    name: \"Popover.Group\"\n  }));\n}),\n    tt = Object.assign(Se, {\n  Button: me,\n  Overlay: Ce,\n  Panel: Ie,\n  Group: xe\n});\nexport { tt as Popover };","map":null,"metadata":{},"sourceType":"module"}