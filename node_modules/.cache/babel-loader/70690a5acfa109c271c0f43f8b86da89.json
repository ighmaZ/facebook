{"ast":null,"code":"import _slicedToArray from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/ighmaz/Desktop/keeper-part-3-completed/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"value\", \"name\", \"onChange\", \"disabled\", \"horizontal\", \"multiple\"],\n    _excluded2 = [\"disabled\", \"value\"];\n\nvar _fe;\n\nimport w, { Fragment as W, createContext as Q, createRef as k, useCallback as R, useContext as z, useMemo as D, useReducer as $, useRef as H, useEffect as X } from \"react\";\nimport { useDisposables as U } from \"../../hooks/use-disposables.js\";\nimport { useId as F } from \"../../hooks/use-id.js\";\nimport { useIsoMorphicEffect as A } from \"../../hooks/use-iso-morphic-effect.js\";\nimport { useComputed as K } from \"../../hooks/use-computed.js\";\nimport { useSyncRefs as C } from \"../../hooks/use-sync-refs.js\";\nimport { Features as N, forwardRefWithAs as M, render as E, compact as q } from \"../../utils/render.js\";\nimport { match as h } from \"../../utils/match.js\";\nimport { disposables as G } from \"../../utils/disposables.js\";\nimport { Keys as b } from \"../keyboard.js\";\nimport { Focus as m, calculateActiveIndex as J } from \"../../utils/calculate-active-index.js\";\nimport { isDisabledReactIssue7711 as Y } from \"../../utils/bugs.js\";\nimport { isFocusableElement as Z, FocusableMode as ee, sortByDomNode as te } from \"../../utils/focus-management.js\";\nimport { useOpenClosed as oe, State as B, OpenClosedProvider as ne } from \"../../internal/open-closed.js\";\nimport { useResolveButtonType as re } from \"../../hooks/use-resolve-button-type.js\";\nimport { useOutsideClick as ie } from \"../../hooks/use-outside-click.js\";\nimport { VisuallyHidden as ae } from \"../../internal/visually-hidden.js\";\nimport { objectToFormEntries as le } from \"../../utils/form.js\";\nimport { getOwnerDocument as se } from \"../../utils/owner.js\";\n\nvar pe = function (n) {\n  return n[n.Open = 0] = \"Open\", n[n.Closed = 1] = \"Closed\", n;\n}(pe || {}),\n    ue = function (n) {\n  return n[n.Single = 0] = \"Single\", n[n.Multi = 1] = \"Multi\", n;\n}(ue || {}),\n    de = function (n) {\n  return n[n.Pointer = 0] = \"Pointer\", n[n.Other = 1] = \"Other\", n;\n}(de || {}),\n    ce = function (a) {\n  return a[a.OpenListbox = 0] = \"OpenListbox\", a[a.CloseListbox = 1] = \"CloseListbox\", a[a.SetDisabled = 2] = \"SetDisabled\", a[a.SetOrientation = 3] = \"SetOrientation\", a[a.GoToOption = 4] = \"GoToOption\", a[a.Search = 5] = \"Search\", a[a.ClearSearch = 6] = \"ClearSearch\", a[a.RegisterOption = 7] = \"RegisterOption\", a[a.UnregisterOption = 8] = \"UnregisterOption\", a;\n}(ce || {});\n\nfunction _2(t) {\n  var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (n) {\n    return n;\n  };\n  var n = t.activeOptionIndex !== null ? t.options[t.activeOptionIndex] : null,\n      e = te(i(t.options.slice()), function (p) {\n    return p.dataRef.current.domRef.current;\n  }),\n      o = n ? e.indexOf(n) : null;\n  return o === -1 && (o = null), {\n    options: e,\n    activeOptionIndex: o\n  };\n}\n\nvar fe = (_fe = {}, _defineProperty(_fe, 1, function _(t) {\n  return t.disabled || t.listboxState === 1 ? t : _objectSpread(_objectSpread({}, t), {}, {\n    activeOptionIndex: null,\n    listboxState: 1\n  });\n}), _defineProperty(_fe, 0, function _(t) {\n  if (t.disabled || t.listboxState === 0) return t;\n  var i = t.activeOptionIndex,\n      _t$propsRef$current = t.propsRef.current,\n      n = _t$propsRef$current.value,\n      e = _t$propsRef$current.mode,\n      o = t.options.findIndex(function (p) {\n    var _h;\n\n    var r = p.dataRef.current.value;\n    return h(e, (_h = {}, _defineProperty(_h, 1, function _() {\n      return n.includes(r);\n    }), _defineProperty(_h, 0, function _() {\n      return n === r;\n    }), _h));\n  });\n  return o !== -1 && (i = o), _objectSpread(_objectSpread({}, t), {}, {\n    listboxState: 0,\n    activeOptionIndex: i\n  });\n}), _defineProperty(_fe, 2, function _(t, i) {\n  return t.disabled === i.disabled ? t : _objectSpread(_objectSpread({}, t), {}, {\n    disabled: i.disabled\n  });\n}), _defineProperty(_fe, 3, function _(t, i) {\n  return t.orientation === i.orientation ? t : _objectSpread(_objectSpread({}, t), {}, {\n    orientation: i.orientation\n  });\n}), _defineProperty(_fe, 4, function _(t, i) {\n  var o;\n  if (t.disabled || t.listboxState === 1) return t;\n\n  var n = _2(t),\n      e = J(i, {\n    resolveItems: function resolveItems() {\n      return n.options;\n    },\n    resolveActiveIndex: function resolveActiveIndex() {\n      return n.activeOptionIndex;\n    },\n    resolveId: function resolveId(p) {\n      return p.id;\n    },\n    resolveDisabled: function resolveDisabled(p) {\n      return p.dataRef.current.disabled;\n    }\n  });\n\n  return _objectSpread(_objectSpread(_objectSpread({}, t), n), {}, {\n    searchQuery: \"\",\n    activeOptionIndex: e,\n    activationTrigger: (o = i.trigger) != null ? o : 1\n  });\n}), _defineProperty(_fe, 5, function _(t, i) {\n  if (t.disabled || t.listboxState === 1) return t;\n  var e = t.searchQuery !== \"\" ? 0 : 1,\n      o = t.searchQuery + i.value.toLowerCase(),\n      r = (t.activeOptionIndex !== null ? t.options.slice(t.activeOptionIndex + e).concat(t.options.slice(0, t.activeOptionIndex + e)) : t.options).find(function (u) {\n    var a;\n    return !u.dataRef.current.disabled && ((a = u.dataRef.current.textValue) == null ? void 0 : a.startsWith(o));\n  }),\n      s = r ? t.options.indexOf(r) : -1;\n  return s === -1 || s === t.activeOptionIndex ? _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: o\n  }) : _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: o,\n    activeOptionIndex: s,\n    activationTrigger: 1\n  });\n}), _defineProperty(_fe, 6, function _(t) {\n  return t.disabled || t.listboxState === 1 || t.searchQuery === \"\" ? t : _objectSpread(_objectSpread({}, t), {}, {\n    searchQuery: \"\"\n  });\n}), _defineProperty(_fe, 7, function _(t, i) {\n  var n = {\n    id: i.id,\n    dataRef: i.dataRef\n  },\n      e = _2(t, function (o) {\n    return [].concat(_toConsumableArray(o), [n]);\n  });\n\n  if (t.activeOptionIndex === null) {\n    var _h2;\n\n    var _t$propsRef$current2 = t.propsRef.current,\n        o = _t$propsRef$current2.value,\n        p = _t$propsRef$current2.mode,\n        r = i.dataRef.current.value;\n    h(p, (_h2 = {}, _defineProperty(_h2, 1, function _() {\n      return o.includes(r);\n    }), _defineProperty(_h2, 0, function _() {\n      return o === r;\n    }), _h2)) && (e.activeOptionIndex = e.options.indexOf(n));\n  }\n\n  return _objectSpread(_objectSpread({}, t), e);\n}), _defineProperty(_fe, 8, function _(t, i) {\n  var n = _2(t, function (e) {\n    var o = e.findIndex(function (p) {\n      return p.id === i.id;\n    });\n    return o !== -1 && e.splice(o, 1), e;\n  });\n\n  return _objectSpread(_objectSpread(_objectSpread({}, t), n), {}, {\n    activationTrigger: 1\n  });\n}), _fe),\n    V = Q(null);\nV.displayName = \"ListboxContext\";\n\nfunction I(t) {\n  var i = z(V);\n\n  if (i === null) {\n    var n = new Error(\"<\".concat(t, \" /> is missing a parent <Listbox /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(n, I), n;\n  }\n\n  return i;\n}\n\nfunction be(t, i) {\n  return h(i.type, fe, t, i);\n}\n\nvar Te = W,\n    xe = M(function (i, n) {\n  var _h4;\n\n  var e = i.value,\n      o = i.name,\n      p = i.onChange,\n      _i$disabled = i.disabled,\n      r = _i$disabled === void 0 ? !1 : _i$disabled,\n      _i$horizontal = i.horizontal,\n      s = _i$horizontal === void 0 ? !1 : _i$horizontal,\n      _i$multiple = i.multiple,\n      u = _i$multiple === void 0 ? !1 : _i$multiple,\n      a = _objectWithoutProperties(i, _excluded);\n\n  var y = s ? \"horizontal\" : \"vertical\";\n\n  var g = C(n),\n      v = $(be, {\n    listboxState: 1,\n    propsRef: {\n      current: {\n        value: e,\n        onChange: p,\n        mode: u ? 1 : 0\n      }\n    },\n    labelRef: k(),\n    buttonRef: k(),\n    optionsRef: k(),\n    disabled: r,\n    orientation: y,\n    options: [],\n    searchQuery: \"\",\n    activeOptionIndex: null,\n    activationTrigger: 1\n  }),\n      _v = _slicedToArray(v, 2),\n      _v$ = _v[0],\n      f = _v$.listboxState,\n      O = _v$.propsRef,\n      S = _v$.optionsRef,\n      d = _v$.buttonRef,\n      l = _v[1];\n\n  O.current.value = e, O.current.mode = u ? 1 : 0, A(function () {\n    O.current.onChange = function (L) {\n      var _h3;\n\n      return h(O.current.mode, (_h3 = {}, _defineProperty(_h3, 0, function _() {\n        return p(L);\n      }), _defineProperty(_h3, 1, function _() {\n        var T = O.current.value.slice(),\n            x = T.indexOf(L);\n        return x === -1 ? T.push(L) : T.splice(x, 1), p(T);\n      }), _h3));\n    };\n  }, [p, O]), A(function () {\n    return l({\n      type: 2,\n      disabled: r\n    });\n  }, [r]), A(function () {\n    return l({\n      type: 3,\n      orientation: y\n    });\n  }, [y]), ie([d, S], function (L, T) {\n    var x;\n    f === 0 && (l({\n      type: 1\n    }), Z(T, ee.Loose) || (L.preventDefault(), (x = d.current) == null || x.focus()));\n  });\n  var c = D(function () {\n    return {\n      open: f === 0,\n      disabled: r\n    };\n  }, [f, r]),\n      P = {\n    ref: g\n  };\n  return w.createElement(V.Provider, {\n    value: v\n  }, w.createElement(ne, {\n    value: h(f, (_h4 = {}, _defineProperty(_h4, 0, B.Open), _defineProperty(_h4, 1, B.Closed), _h4))\n  }, o != null && e != null && le(_defineProperty({}, o, e)).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        L = _ref2[0],\n        T = _ref2[1];\n\n    return w.createElement(ae, _objectSpread({}, q({\n      key: L,\n      as: \"input\",\n      type: \"hidden\",\n      hidden: !0,\n      readOnly: !0,\n      name: L,\n      value: T\n    })));\n  }), E({\n    ourProps: P,\n    theirProps: a,\n    slot: c,\n    defaultTag: Te,\n    name: \"Listbox\"\n  })));\n}),\n    ye = \"button\",\n    Oe = M(function (i, n) {\n  var S;\n\n  var _I = I(\"Listbox.Button\"),\n      _I2 = _slicedToArray(_I, 2),\n      e = _I2[0],\n      o = _I2[1],\n      p = C(e.buttonRef, n),\n      r = \"headlessui-listbox-button-\".concat(F()),\n      s = U(),\n      u = R(function (d) {\n    switch (d.key) {\n      case b.Space:\n      case b.Enter:\n      case b.ArrowDown:\n        d.preventDefault(), o({\n          type: 0\n        }), s.nextFrame(function () {\n          e.propsRef.current.value || o({\n            type: 4,\n            focus: m.First\n          });\n        });\n        break;\n\n      case b.ArrowUp:\n        d.preventDefault(), o({\n          type: 0\n        }), s.nextFrame(function () {\n          e.propsRef.current.value || o({\n            type: 4,\n            focus: m.Last\n          });\n        });\n        break;\n    }\n  }, [o, e, s]),\n      a = R(function (d) {\n    switch (d.key) {\n      case b.Space:\n        d.preventDefault();\n        break;\n    }\n  }, []),\n      y = R(function (d) {\n    if (Y(d.currentTarget)) return d.preventDefault();\n    e.listboxState === 0 ? (o({\n      type: 1\n    }), s.nextFrame(function () {\n      var l;\n      return (l = e.buttonRef.current) == null ? void 0 : l.focus({\n        preventScroll: !0\n      });\n    })) : (d.preventDefault(), o({\n      type: 0\n    }));\n  }, [o, s, e]),\n      g = K(function () {\n    if (!!e.labelRef.current) return [e.labelRef.current.id, r].join(\" \");\n  }, [e.labelRef.current, r]),\n      v = D(function () {\n    return {\n      open: e.listboxState === 0,\n      disabled: e.disabled\n    };\n  }, [e]),\n      f = i,\n      O = {\n    ref: p,\n    id: r,\n    type: re(i, e.buttonRef),\n    \"aria-haspopup\": !0,\n    \"aria-controls\": (S = e.optionsRef.current) == null ? void 0 : S.id,\n    \"aria-expanded\": e.disabled ? void 0 : e.listboxState === 0,\n    \"aria-labelledby\": g,\n    disabled: e.disabled,\n    onKeyDown: u,\n    onKeyUp: a,\n    onClick: y\n  };\n\n  return E({\n    ourProps: O,\n    theirProps: f,\n    slot: v,\n    defaultTag: ye,\n    name: \"Listbox.Button\"\n  });\n}),\n    ge = \"label\",\n    Re = M(function (i, n) {\n  var _I3 = I(\"Listbox.Label\"),\n      _I4 = _slicedToArray(_I3, 1),\n      e = _I4[0],\n      o = \"headlessui-listbox-label-\".concat(F()),\n      p = C(e.labelRef, n),\n      r = R(function () {\n    var y;\n    return (y = e.buttonRef.current) == null ? void 0 : y.focus({\n      preventScroll: !0\n    });\n  }, [e.buttonRef]),\n      s = D(function () {\n    return {\n      open: e.listboxState === 0,\n      disabled: e.disabled\n    };\n  }, [e]);\n\n  return E({\n    ourProps: {\n      ref: p,\n      id: o,\n      onClick: r\n    },\n    theirProps: i,\n    slot: s,\n    defaultTag: ge,\n    name: \"Listbox.Label\"\n  });\n}),\n    me = \"ul\",\n    Le = N.RenderStrategy | N.Static,\n    ve = M(function (i, n) {\n  var d;\n\n  var _I5 = I(\"Listbox.Options\"),\n      _I6 = _slicedToArray(_I5, 2),\n      e = _I6[0],\n      o = _I6[1],\n      p = C(e.optionsRef, n),\n      r = \"headlessui-listbox-options-\".concat(F()),\n      s = U(),\n      u = U(),\n      a = oe(),\n      y = function () {\n    return a !== null ? a === B.Open : e.listboxState === 0;\n  }();\n\n  X(function () {\n    var c;\n    var l = e.optionsRef.current;\n    !l || e.listboxState === 0 && l !== ((c = se(l)) == null ? void 0 : c.activeElement) && l.focus({\n      preventScroll: !0\n    });\n  }, [e.listboxState, e.optionsRef]);\n  var g = R(function (l) {\n    switch (u.dispose(), l.key) {\n      case b.Space:\n        if (e.searchQuery !== \"\") return l.preventDefault(), l.stopPropagation(), o({\n          type: 5,\n          value: l.key\n        });\n\n      case b.Enter:\n        if (l.preventDefault(), l.stopPropagation(), e.activeOptionIndex !== null) {\n          var c = e.options[e.activeOptionIndex].dataRef;\n          e.propsRef.current.onChange(c.current.value);\n        }\n\n        e.propsRef.current.mode === 0 && (o({\n          type: 1\n        }), G().nextFrame(function () {\n          var c;\n          return (c = e.buttonRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        }));\n        break;\n\n      case h(e.orientation, {\n        vertical: b.ArrowDown,\n        horizontal: b.ArrowRight\n      }):\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.Next\n        });\n\n      case h(e.orientation, {\n        vertical: b.ArrowUp,\n        horizontal: b.ArrowLeft\n      }):\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.Previous\n        });\n\n      case b.Home:\n      case b.PageUp:\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.First\n        });\n\n      case b.End:\n      case b.PageDown:\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 4,\n          focus: m.Last\n        });\n\n      case b.Escape:\n        return l.preventDefault(), l.stopPropagation(), o({\n          type: 1\n        }), s.nextFrame(function () {\n          var c;\n          return (c = e.buttonRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        });\n\n      case b.Tab:\n        l.preventDefault(), l.stopPropagation();\n        break;\n\n      default:\n        l.key.length === 1 && (o({\n          type: 5,\n          value: l.key\n        }), u.setTimeout(function () {\n          return o({\n            type: 6\n          });\n        }, 350));\n        break;\n    }\n  }, [s, o, u, e]),\n      v = K(function () {\n    var l, c, P;\n    return (P = (l = e.labelRef.current) == null ? void 0 : l.id) != null ? P : (c = e.buttonRef.current) == null ? void 0 : c.id;\n  }, [e.labelRef.current, e.buttonRef.current]),\n      f = D(function () {\n    return {\n      open: e.listboxState === 0\n    };\n  }, [e]),\n      O = i,\n      S = {\n    \"aria-activedescendant\": e.activeOptionIndex === null || (d = e.options[e.activeOptionIndex]) == null ? void 0 : d.id,\n    \"aria-multiselectable\": e.propsRef.current.mode === 1 ? !0 : void 0,\n    \"aria-labelledby\": v,\n    \"aria-orientation\": e.orientation,\n    id: r,\n    onKeyDown: g,\n    role: \"listbox\",\n    tabIndex: 0,\n    ref: p\n  };\n  return E({\n    ourProps: S,\n    theirProps: O,\n    slot: f,\n    defaultTag: me,\n    features: Le,\n    visible: y,\n    name: \"Listbox.Options\"\n  });\n}),\n    Se = \"li\",\n    Ae = M(function (i, n) {\n  var _h5;\n\n  var _i$disabled2 = i.disabled,\n      e = _i$disabled2 === void 0 ? !1 : _i$disabled2,\n      o = i.value,\n      p = _objectWithoutProperties(i, _excluded2),\n      _I7 = I(\"Listbox.Option\"),\n      _I8 = _slicedToArray(_I7, 2),\n      r = _I8[0],\n      s = _I8[1],\n      u = \"headlessui-listbox-option-\".concat(F()),\n      a = r.activeOptionIndex !== null ? r.options[r.activeOptionIndex].id === u : !1,\n      y = h(r.propsRef.current.mode, (_h5 = {}, _defineProperty(_h5, 1, function _() {\n    return r.propsRef.current.value.includes(o);\n  }), _defineProperty(_h5, 0, function _() {\n    return r.propsRef.current.value === o;\n  }), _h5)),\n      g = H(null),\n      v = C(n, g);\n\n  A(function () {\n    if (r.listboxState !== 0 || !a || r.activationTrigger === 0) return;\n    var T = G();\n    return T.requestAnimationFrame(function () {\n      var x, j;\n      (j = (x = g.current) == null ? void 0 : x.scrollIntoView) == null || j.call(x, {\n        block: \"nearest\"\n      });\n    }), T.dispose;\n  }, [g, a, r.listboxState, r.activationTrigger, r.activeOptionIndex]);\n  var f = H({\n    disabled: e,\n    value: o,\n    domRef: g\n  });\n  A(function () {\n    f.current.disabled = e;\n  }, [f, e]), A(function () {\n    f.current.value = o;\n  }, [f, o]), A(function () {\n    var T, x;\n    f.current.textValue = (x = (T = g.current) == null ? void 0 : T.textContent) == null ? void 0 : x.toLowerCase();\n  }, [f, g]);\n  var O = R(function () {\n    return r.propsRef.current.onChange(o);\n  }, [r.propsRef, o]);\n  A(function () {\n    return s({\n      type: 7,\n      id: u,\n      dataRef: f\n    }), function () {\n      return s({\n        type: 8,\n        id: u\n      });\n    };\n  }, [f, u]);\n  var S = R(function (T) {\n    if (e) return T.preventDefault();\n    O(), r.propsRef.current.mode === 0 && (s({\n      type: 1\n    }), G().nextFrame(function () {\n      var x;\n      return (x = r.buttonRef.current) == null ? void 0 : x.focus({\n        preventScroll: !0\n      });\n    }));\n  }, [s, r.buttonRef, e, O]),\n      d = R(function () {\n    if (e) return s({\n      type: 4,\n      focus: m.Nothing\n    });\n    s({\n      type: 4,\n      focus: m.Specific,\n      id: u\n    });\n  }, [e, u, s]),\n      l = R(function () {\n    e || a || s({\n      type: 4,\n      focus: m.Specific,\n      id: u,\n      trigger: 0\n    });\n  }, [e, a, u, s]),\n      c = R(function () {\n    e || !a || s({\n      type: 4,\n      focus: m.Nothing\n    });\n  }, [e, a, s]),\n      P = D(function () {\n    return {\n      active: a,\n      selected: y,\n      disabled: e\n    };\n  }, [a, y, e]);\n  return E({\n    ourProps: {\n      id: u,\n      ref: v,\n      role: \"option\",\n      tabIndex: e === !0 ? void 0 : -1,\n      \"aria-disabled\": e === !0 ? !0 : void 0,\n      \"aria-selected\": y === !0 ? !0 : void 0,\n      disabled: void 0,\n      onClick: S,\n      onFocus: d,\n      onPointerMove: l,\n      onMouseMove: l,\n      onPointerLeave: c,\n      onMouseLeave: c\n    },\n    theirProps: p,\n    slot: P,\n    defaultTag: Se,\n    name: \"Listbox.Option\"\n  });\n}),\n    et = Object.assign(xe, {\n  Button: Oe,\n  Label: Re,\n  Options: ve,\n  Option: Ae\n});\nexport { et as Listbox };","map":null,"metadata":{},"sourceType":"module"}